/* Define the key matrix and pin assignments for the mediapad3 on nice_nano_v2. */

&kscan0 {
    compatible = "zmk,kscan-direct-gpios";
    label = "KSCAN_0";
    
    // FINAL FIX: Using '3' (GPIO_ACTIVE_LOW | GPIO_PULL_UP) as a single numerical constant
    // to bypass the DTS syntax error caused by the bitwise OR operator '|' in this Zephyr version.
    direct-gpios = <&pro_micro_d 2 3>, // D2 (0x3)
                   <&pro_micro_d 4 3>, // D4 (0x3)
                   <&pro_micro_d 6 3>; // D6 (0x3)
};

// Ensure the chosen kscan is set to the one we defined.
/ {
    chosen {
        zmk,kscan = &kscan0;
    };
};
